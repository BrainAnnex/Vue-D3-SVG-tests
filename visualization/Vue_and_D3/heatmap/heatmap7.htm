<!-- Simple heatmap with Vue and D3.
     Similar to heatmap6.htm, but most of the plot is now handled directly by Vue,
     in an SVG code template using Vue iteration over the heatmap rectangles,
     and computations of plot parameters with D3 functions.

     The axes remain a DOM manipulation directly done by D3, and require special
     handling to be reactive to changes in the data (while the Vue-controlled part
     is automatically reactive.)
-->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Heatmap 7 : Vue with SVG</title>

    <!-- JavaScript -->
    <script src="../../../Vue2_lib/vue2.js"></script>    <!-- Vue.js (version 2) -->

    <style type="text/css">
        svg.chart-holder {
            border:1px solid cyan;
        }
    </style>
</head>

<body>


<div id="vue-root">   <!-- Container for VUE COMPONENT below : ROOT element -->

    <vue-heatmap-7
            v-bind:my_groups="my_groups"
            v-bind:my_vars="my_vars"
            v-bind:my_data="my_data"

            v-bind:outer_width="outer_width"
            v-bind:outer_height="outer_height"
            v-bind:margins="margins"
    >
    </vue-heatmap-7>

</div>	<!--  ~~~~~~~~~~~~~~~~~~~~~  END of Vue root element  ~~~~~~~~~~~~~~~~~~~~~  -->



<!--
    Vue components (and other JS).  This must appear AFTER the Vue-containing elements
  -->
<script src="heatmap7_comp.js"></script>
<script src="https://d3js.org/d3.v7.min.js"></script>



<script>
// Instantiation of the ROOT component must come after the definition of the descendant components
new Vue({
    el: '#vue-root',

    data: {     // THE DATA FOR THE HEATMAP

        // Labels of row and columns
        my_groups: ["A", "B", "C"],
        my_vars: ["v1", "v2"],

        // Data for the heatmap
        my_data: [
            { group: "A", variable: "v1", value: "30" },
            { group: "A", variable: "v2", value: "95" },
            { group: "B", variable: "v1", value: "37" },
            { group: "B", variable: "v2", value: "50" },
            { group: "C", variable: "v1", value: "96" },
            { group: "C", variable: "v2", value: "13" }
        ],

        // Set the dimensions and margins of the graph
        outer_width: 450,
        outer_height: 450,
        margins: {top: 30, right: 30, bottom: 30, left: 30}
    }

});
</script>


</body>
</html>