<!-- Simple heatmap with Vue and D3.
     Similar to heatmap7.htm, but the last direct DOM manipulation has been wrestled out of D3,
     using a custom replacement for the D3 axes generator (in the SVG_helper library)
-->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Heatmap 8 : Vue with SVG</title>

    <!-- JavaScript -->
    <script src="../../../Vue2_lib/vue2.js"></script>    <!-- Vue.js (version 2) -->

    <style type="text/css">
        svg.chart-holder {
            border:1px solid cyan;
        }
        g.axis-line {
            stroke: black;
            stroke-width: 1px;
        }
        g.ticks {
            stroke: grey;
        }
        g.tick-labels {
            fill: grey;
            font-size: 10px;
            font-family: sans-serif;
            text-anchor: middle;
            transform: translate(0, 1px);   // Increase for larger font sizes
        }
    </style>
</head>

<body>


<div id="vue-root">   <!-- Container for VUE COMPONENT below : ROOT element -->

    <vue-heatmap-8
            v-bind:my_groups="my_groups"
            v-bind:my_vars="my_vars"
            v-bind:my_data="my_data"

            v-bind:outer_width="outer_width"
            v-bind:outer_height="outer_height"
            v-bind:margins="margins"
    >
    </vue-heatmap-8>

</div>	<!--  ~~~~~~~~~~~~~~~~~~~~~  END of Vue root element  ~~~~~~~~~~~~~~~~~~~~~  -->



<!--
    Vue components (and other JS).  This must appear AFTER the Vue-containing elements
  -->
<script src="heatmap8_comp.js.js"></script>
<script src="https://d3js.org/d3.v7.min.js"></script>
<script src="../../SVG/SVG_helper/svg_helper.js"></script>



<script>
// Instantiation of the ROOT component must come after the definition of the descendant components
new Vue({
    el: '#vue-root',

    data: {     // THE DATA FOR THE HEATMAP

        // Labels of row and columns
        my_groups: ["A", "B", "C"],
        my_vars: ["v1", "v2"],

        // Data for the heatmap
        my_data: [
            { group: "A", variable: "v1", value: "30" },
            { group: "A", variable: "v2", value: "95" },
            { group: "B", variable: "v1", value: "37" },
            { group: "B", variable: "v2", value: "50" },
            { group: "C", variable: "v1", value: "96" },
            { group: "C", variable: "v2", value: "13" }
        ],

        // Set the dimensions and margins of the graph
        outer_width: 450,
        outer_height: 450,
        margins: {top: 30, right: 30, bottom: 30, left: 30}
    }

});
</script>


</body>
</html>